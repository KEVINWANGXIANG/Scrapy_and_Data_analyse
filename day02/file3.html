<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link rel="canonical" href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="referrer" content="always">
    <meta name="description" content="业内各大云服务商以及公司逐渐选择Kubernetes与Docker作为微服务支撑的首选平台。为了更好满足DevOps，我们采用了开源框架Spinnaker作为持续交付平台..." />
    <meta name="keywords" content="" />
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <script src="https://csdnimg.cn/release/phoenix/vendor/tingyun/tingyun-rum-blog.js"></script>

    <link href="https://csdnimg.cn/public/favicon.ico" rel="SHORTCUT ICON">
    <title>有货基于Kubernetes容器环境的持续交付实践 - CSDN博客</title>

            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/detail-1285c05898.min.css">
        <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-9b39979775.min.css">

    <script type="text/javascript">
        var username = "M2l0ZgSsVc7r69eFdTj";
        var blog_address = "https://blog.csdn.net/m2l0zgssvc7r69efdtj";
        var static_host = "https://csdnimg.cn/release/phoenix/";
        var currentUserName = "";
        var isShowAds = true;
        var isOwner = false;
        var loginUrl = "https://passport.csdn.net/account/login?from=https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657"
        var blogUrl = "https://blog.csdn.net/";
        //页面皮肤样式
        var curSkin = "skin3-template";
    </script>
    <script type="text/javascript">
        // Traffic Stats of the entire Web site By baidu
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6bcd52f51e9b3dce32bec4a3997715ac";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        // Traffic Stats of the entire Web site By baidu end
    </script>
    <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="https://csdnimg.cn/rabbit/exposure-click/main-1.0.6.js"></script>
    <!-- 新版上报 -->
    <script src="//g.csdnimg.cn/track/1.1.1/track.js" type="text/javascript"></script>
    <!-- 新版上报end -->
            <link rel="stylesheet" href="https://csdnimg.cn/public/sandalstrap/1.3/css/sandalstrap.min.css">
    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
</head>
<body>
    <link rel="stylesheet" href="https://csdnimg.cn/public/common/toolbar/content_toolbar_css/content_toolbar.css">
    <script id="toolbar-tpl-scriptId" src="https://csdnimg.cn/public/common/toolbar/js/content_toolbar.js" type="text/javascript" domain="https://blog.csdn.net/"></script>
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/blog_code-c3a0c33d5c.css">
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/vendor/pagination/paging.css">
<script type="text/javascript" src="//static.mediav.com/js/mvf_news_feed.js"></script>
<div style="display:none;">
	<img src="" onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
</div>
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/chart-3456820cac.css" />



<script src="https://dup.baidustatic.com/js/ds.js"></script>
<div class="container clearfix" id="mainBox">
		<!-- <div id="breadcrumbs">
			<span><a href="https://blog.csdn.net/">博客首页</a></span>
			<i>></i>
			<span><a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj">Docker的专栏</a></span>
			<i>></i>
			<span>有货基于Kubernetes容器环境的持续交付实践...</span>
		</div> -->
    <main>
        <div class="blog-content-box">
	<div class="article-header-box">
		<div class="article-header">
			<div class="article-title-box">
				<span class="article-type type-1 float-left">原</span>				<h1 class="title-article">有货基于Kubernetes容器环境的持续交付实践</h1>
			</div>
			<div class="article-info-box">
				<div class="article-bar-top">
																				<span class="time">2018年08月27日 07:46:38</span>
						<span class="read-count">阅读数：792</span>
												
																															</div>
				<div class="operating">
														</div>
			</div>
			
		</div>
	</div>
	<article>
		<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog"  data-mod=popu_307  data-dsm = "post" >
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css" />
						<div class="htmledit_views">
                
    <div class="rich_media_content" id="js_content">
                    

                    

                    
                    
                    <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLG0vZ0UNTSF718pNNJia6pMHSqWicpibpTcagRbS4ibVzZrvDwibc2yG0mWg/640" alt="640" /></p><p style="text-align:center;"><br /></p>业内各大云服务商以及公司逐渐选择Kubernetes与Docker作为微服务支撑的首选平台。为了更好满足DevOps，我们采用了开源框架Spinnaker作为持续交付平台，完成服务的快速部署，回滚，A/B测试，以及金丝雀等等的部署方式，同时我们在生产做了多区的容灾，更好的保障线上服务。<br />Spinnaker介绍<p><img style="margin-left:0px;color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;background-color:rgb(255,255,255);font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640" alt="640" /></p><p><br /></p>Spinnaker是Netflix的开源项目，是一个持续交付平台，它定位于将产品快速且持续的部署到多种云平台上。Spinnaker有两个核心的功能集群管理和部署管理。Spinnaker通过将发布和各个云平台解耦，来将部署流程流水线化，从而降低平台迁移或多云平台部署应用的复杂度，它本身内部支持Google、AWS EC2、Microsoft Azure、Kubernetes和OpenStack等云平台，并且它可以无缝集成其他持续集成（CI）流程，如Git、Jenkins、Travis CI、Docker registry、cron调度器等。<br /><strong>应用管理</strong><br />Spinnaker主要用于展示与管理你的云端资源。<br />先要了解一些关键的概念：Applications，Cluster，and Server Groups，通过Load balancers and firewalls将服务展示给用户。官方给的结构如下：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLwx3pF35n9TRITsCjicaqPsj0ARm7dF9znoOJldZXkelkhdjnVaR6cwg/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Application</strong></span><br />定义了集群中一组的Cluster的集合，也包括了Firewalls与Load Balancers，存储了服务所有的部署相关的的信息。<br /><span style="color:rgb(136,136,136);"><strong>Server Group</strong></span><br />定义了一些基础的源比如（VM image、Docker image），以及一些基础的配置信息，一旦部署后，在容器中对应Kubernetes Pod的集合。<br /><strong><span style="color:rgb(136,136,136);">Cluster</span></strong><br />Server Groups的有关联的集合。（Cluster中可以按照dev，prod的去创建不同的服务组），也可以理解为对于一个应用存在多个分支的情况。<br /><strong><span style="color:rgb(136,136,136);">Load Balancer</span></strong><br />它在实例之间做负载均衡流量。您还可以为负载均衡器启用健康检查，灵活地定义健康标准并指定健康检查端点，有点类似于Kubernetes中Ingress。<br /><strong><span style="color:rgb(136,136,136);">Firewall</span></strong><br />防火墙定义了网络流量访问，定义了一些访问的规则，如安全组等等。<br /><span style="color:rgb(136,136,136);"><strong>页面预览<br /></strong></span><br />页面展示如下，还是比较精简的，可以在它的操作页面上看到项目以及应用的详细信息，还可以进行集群的伸缩、回滚、修改以及删除的操作。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLz0HhXZgeckibghSc5LbwxxiakxdNicOO0chM2m2kpg4fa2BtB0K4VhMicA/640" alt="640" /></p><br /><strong>部署管理</strong><br />上图中，Infrastructure左侧为Pipeline的设计：主要讲两块内容：Pipeline的创建以及基础功能，与部署的策略。<br /><span style="color:rgb(136,136,136);"><strong>Pipeline</strong></span><br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">较强的Pipeline的能力：它的Pipeline可以复杂到无以复加，它还有很强的表达式功能（后续的操作中前面的参数均通过表达式获取）。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">触发的方式：定时任务、人工触发、Jenkins job、Docker images，或者其他的Pipeline的步骤。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">通知方式：Email、SMS or HipChat。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">将所有的操作都融合到Pipeline中，比如回滚、金丝雀分析、关联CI等等。</p></li></ul><span style="color:rgb(136,136,136);"><strong><br /></strong></span><span style="color:rgb(136,136,136);"><strong>部署策略</strong></span><br />由于我们用的是Kubernetes Provider V2（Manifest Based）方式：可修改yaml中：spec.strategy.type。<br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Recreate，先将所有旧的Pod停止，然后再启动新的Pod对应其中的第一种方式。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">RollingUpdate，即滚动升级，对应下图中第二种方式。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Canary下面会单独的介绍其中的使用。</p></li></ul><p><br /></p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLsuibzNVnft5NDJeWvJibdyUYZnQp3OOGv2Xq2AEjwepFFt8T8CZficV6A/640" alt="640" /></p><p><br /></p>Spinnaker安装踩过的坑<p><img style="margin-left:0px;color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;background-color:rgb(255,255,255);font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640" alt="640" /></p><p><span style="color:rgb(102,102,102);"></span></p>很多人都是感觉这个很难安装，其实主要的原因还是墙的问题，只要把这个解决了就会方便很多，官方的文档写的很详细，而且Spinnaker的社区也非常的活跃，有问题均可以在上面进行提问。<br /><strong>安装提供的方式</strong><br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Halyard安装方式（官方推荐安装方式）</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Helm搭建Spinnaker平台</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Development版本安装</p></li></ul><p><br /></p>我采用Halyard安装方式，因为后期我们会集成很多其他的插件，类似于GitLab、LDAP、Kayenta，甚至多个Jenkins，Kubernetes服务等等，可配置性较强。Helm方式若是需要自定义一些个性化的内容会比较复杂，完全依赖于原始镜像，而Development需要对Spinnaker非常的熟悉，以及每个版本之间的对应关系均要了解。<br /><strong>Halyard方式安装注意点</strong><br /><span style="color:rgb(136,136,136);"><strong>Halyard代理的配置</strong></span><br /><pre style="font-size:16px;color:rgb(62,62,62);line-height:inherit;background-color:rgb(255,255,255);"><code class="hljs makefile" style="margin-left:2px;font-size:14px;color:rgb(169,183,198);line-height:18px;background:rgb(40,43,46);font-family:Consolas, Inconsolata, Courier, monospace;letter-spacing:0px;">vim /opt/halyard/bin/halyard<br style="font-size:inherit;color:inherit;line-height:inherit;" />DEFAULT_JVM_OPTS='-Dhttp.proxyHost=192.168.102.10 -Dhttps.proxyPort=3128'<br style="font-size:inherit;color:inherit;line-height:inherit;" /></code><br /></pre><span style="color:rgb(136,136,136);"><strong>部署机器选择</strong></span><br />由于Spinnaker涉及的应用较多，下面会单独的介绍，需要消耗比较大的内存，官方推荐的配置如下：<br /><pre style="font-size:16px;color:rgb(62,62,62);line-height:inherit;background-color:rgb(255,255,255);"><code class="hljs css" style="margin-left:2px;font-size:14px;color:rgb(169,183,198);line-height:18px;background:rgb(40,43,46);font-family:Consolas, Inconsolata, Courier, monospace;letter-spacing:0px;">18 <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">GB</span> <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">of</span> <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">RAM</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">A</span> 4 <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">core</span> <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">CPU</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">Ubuntu</span> 14<span class="hljs-selector-class" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">.04</span>, 16<span class="hljs-selector-class" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">.04</span> <span class="hljs-selector-tag" style="font-size:inherit;color:rgb(248,35,117);line-height:inherit;">or</span> 18<span class="hljs-selector-class" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">.04</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /></code></pre><br /><span style="color:rgb(136,136,136);"><strong>Spinnaker安装步骤</strong></span><br /><ol class="list-paddingleft-2" style="list-style-type:decimal;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">Halyard下载以及安装。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">选择云提供者：我选择的是Kubernetes Provider V2（Manifest Based），需要在部署Spinnaker的机器上完成Kubernetes集群的认证，以及权限管理。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">部署的时候选择安装环境：我选择的是Debian包的方式。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">选择存储：官方推荐使用Minio，我选择的是Minio的方式。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">选择安装的版本：我当时最新的是V1.8.0。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">接下来进行部署工作，初次部署时间较长，会连接代理下载对应的包。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">全部下载与完成后，查看对应的日志，即可使用localhost:9000访问即可。</span></p></li></ol><br />完成以上的步骤则可以在Kubernetes上面部署对应的应用了。<br /><strong>涉及的组件</strong><br />下图是Spinnaker的各个组件之间的关系。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLQMKetIaqhbXekkV2QCfiao6ALFTYEpUiaZWhsgpqGchKdOFbN3XufJUQ/640" alt="640" /></p><br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Deck：面向用户UI界面组件，提供直观简介的操作界面，可视化操作发布部署流程。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">API：面向调用API组件，我们可以不使用提供的UI，直接调用API操作，由它后台帮我们执行发布等任务。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Gate：是API的网关组件，可以理解为代理，所有请求由其代理转发。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Rosco：是构建beta镜像的组件，需要配置Packer组件使用。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Orca：是核心流程引擎组件，用来管理流程。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Igor：是用来集成其他CI系统组件，如Jenkins等一个组件。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Echo：是通知系统组件，发送邮件等信息。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Front50：是存储管理组件，需要配置Redis、Cassandra等组件使用。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Cloud driver：是用来适配不同的云平台的组件，比如Kubernetes、Google、AWS EC2、Microsoft Azure等。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">Fiat：是鉴权的组件，配置权限管理，支持OAuth、SAML、LDAP、GitHub teams、Azure groups、 Google Groups等。</p></li></ul><br /><table><tbody><tr><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><strong><span style="font-size:15px;">组件</span></strong></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><strong><span style="font-size:15px;">端口</span></strong></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><strong><span style="font-size:15px;">依赖组件</span></strong></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><strong><span style="font-size:15px;">端口</span></strong></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Clouddriver</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">7002</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Minio</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Fiat</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">7003</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Jenkins</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Front50</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8080</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Ldap</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Orca</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8083</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">GitHub</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Gate</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8084</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Rosco</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8087</span></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td><td valign="middle" colspan="1" rowspan="1" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Igor</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8088</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><br /></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Echo</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8089</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><br /></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><br /></td></tr><tr><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Deck</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">9000</span></td><td valign="top" style="border-color:rgb(221,221,221);"><br /></td><td valign="top" style="border-color:rgb(221,221,221);"><br /></td></tr><tr><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">Kayenta</span></td><td valign="middle" style="border-color:rgb(221,221,221);" align="center"><span style="font-size:15px;">8090</span></td><td valign="top" style="border-color:rgb(221,221,221);"><br /></td><td valign="top" style="border-color:rgb(221,221,221);"><br /></td></tr></tbody></table><h3><br /></h3>Spinnaker在Kubernetes的持续部署<p><img style="margin-left:0px;color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;background-color:rgb(255,255,255);font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640" alt="640" /></p><p><br /></p><strong>Pipeline部署示例</strong><br />如下Pipeline设计就是开发将版本合到某一个分支后，通过Jenkins镜像构建，发布测试环境，进而自动化以及人工验证，在由人工判断是否需要发布到线上以及回滚，若是选择发布到线上则发布到prod环境，从而进行prod自动化的CI。若是选择回滚则回滚到上个版本，从而进行dev自动化的CI。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WL3nGyobLCwuDpB3hHP4mjGfEVibtBtX8WScKNOdzmE3M6MsJkRaIbztQ/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-configuration</strong></span><br />设置触发的方式，定义全局变量，执行报告的通知方式，是Pipeline的起点。<br />Automated Triggers，其中支持多种触发的方式：定时任务Corn，Git，Jenkins，Docker Registry，Travis，Pipeline，Webhook等触发方式，从而能够满足我们自动回调的功能。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLThiafllibwu4icI8QHXsejSicwW7mU9fsaUDfxibUMIK6pcpgIy37Z5Wh9Q/640" alt="640" /></p><br />Parameters，此处定义的全局变量会在整个Pipeline中使用${ parameters['branch']}得到，这样大大的简化了我们设计Pipeline的通用性。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLW8RdGMZntcEQqDcwvlkOnLicVx6Ke39XG7qUsYXn39prgUmaYDxRskA/640" alt="640" /></p><br />Notifications，这里通知支持：SMS，Email，HipChat等等的方式。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLzOiaSIzHsBa2Q6Twy6vJOW9EYuZvhuntLw9MWhGhbL05WD0a1UBtvFA/640" alt="640" /></p><br />我们使用了邮件通知的功能：需要在echo的配置文件中加入发件邮箱的基本信息。<br /><span style="color:rgb(136,136,136);"><strong>Stage-jenkins</strong></span><br />调用Jenkins来执行相关的任务，其中Jenkins的服务信息存在放hal的配置文件中（如下展示），Spinnaker可自动以同步Jenkins的Job以及参数等等的信息，运行后能够看到对应的Job ID以及状态：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLX6dqMpxcpib2IGic2dIdAcElwlYJLCCDXj40Yquh0H73zrUxmKINer9A/640" alt="640" /></p><br />运行完成后展示如下，我们可以查看相关的build的信息，以及此stage执行的相关信息，点击build可以跳到对应的Jenkins的Job查看相关的任务信息。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLOFwAeyDibrV4V53Owpj5C2PZCz14e6oT5sib74wdHOE3qpicyNcNSiavnw/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-deploy<br /></strong></span><br />由于我们配置Spinnaker的时候采用的是Kubernetes Provider V2方式，我们的发布均采用yaml的方式来实现，可以将文件存放在GitHub中或者直接在页面上进行配置，同时yaml中文件支持了很多的参数化，这样大大的方便了我们日常的使用。<br />Halyard关联Kubernetes的配置信息：由于我们采用的云服务是Kubernetes，配置的时候需要将部署Spinnaker的机器对Kubernetes集群做认证。<br />Spinnaker发布信息展示：此处Manifest Source支持参数化形式，类似于我们写入的yaml部署文件，但是这里支持参数化的方式。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLQge2zJRwPC9ISEq5wXO6Fbh6BVkw4jI8ZfiaE7blM4rPfJBU55Nibrqg/640" alt="640" /></p><br />具体的配置项如下：<br /><pre style="font-size:16px;color:rgb(62,62,62);line-height:inherit;background-color:rgb(255,255,255);"><code class="hljs makefile" style="margin-left:2px;font-size:14px;color:rgb(169,183,198);line-height:18px;background:rgb(40,43,46);font-family:Consolas, Inconsolata, Courier, monospace;letter-spacing:0px;">- apiVersion: extensions/v1beta1<br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">kind: Deployment</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">metadata:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">name: '${ parameters.deployName }-deployment'</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">namespace: dev</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">spec:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">replicas: 2</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">template:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" />  metadata:<br style="font-size:inherit;color:inherit;line-height:inherit;" />    labels:<br style="font-size:inherit;color:inherit;line-height:inherit;" />      name: '${ parameters.deployName }-deployment'<br style="font-size:inherit;color:inherit;line-height:inherit;" />  spec:<br style="font-size:inherit;color:inherit;line-height:inherit;" />    containers:<br style="font-size:inherit;color:inherit;line-height:inherit;" />      - image: &gt;-<br style="font-size:inherit;color:inherit;line-height:inherit;" />          192.168.105.2:5000/${ parameters.imageSource }/${<br style="font-size:inherit;color:inherit;line-height:inherit;" />          parameters.deployName }:${ parameters.imageversion }<br style="font-size:inherit;color:inherit;line-height:inherit;" />        name: '${ parameters.deployName }-deployment'<br style="font-size:inherit;color:inherit;line-height:inherit;" />        ports:<br style="font-size:inherit;color:inherit;line-height:inherit;" />          - containerPort: 8080<br style="font-size:inherit;color:inherit;line-height:inherit;" />    imagePullSecrets:<br style="font-size:inherit;color:inherit;line-height:inherit;" />      - name: registrypullsecret<br style="font-size:inherit;color:inherit;line-height:inherit;" />- apiVersion: v1<br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">kind: Service</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">metadata:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">name: '${ parameters.deployName }-service'</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">namespace: dev</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">spec:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">ports:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" />  - port: 8080<br style="font-size:inherit;color:inherit;line-height:inherit;" />    targetPort: 8080<br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">selector:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" />  name: '${ parameters.deployName }-deployment'<br style="font-size:inherit;color:inherit;line-height:inherit;" />- apiVersion: extensions/v1beta1<br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">kind: Ingress</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">metadata:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">name: '${ parameters.deployName }-ingress'</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">namespace: dev</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">spec:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" /><span class="hljs-section" style="font-size:inherit;color:rgb(165,218,45);line-height:inherit;">rules:</span><br style="font-size:inherit;color:inherit;line-height:inherit;" />  - host: '${ parameters.deployName }-dev.ingress.dev.yohocorp.com'<br style="font-size:inherit;color:inherit;line-height:inherit;" />    http:<br style="font-size:inherit;color:inherit;line-height:inherit;" />      paths:<br style="font-size:inherit;color:inherit;line-height:inherit;" />        - backend:<br style="font-size:inherit;color:inherit;line-height:inherit;" />            serviceName: '${ parameters.deployName }-service'<br style="font-size:inherit;color:inherit;line-height:inherit;" />            servicePort: 8080<br style="font-size:inherit;color:inherit;line-height:inherit;" />          path: /<br style="font-size:inherit;color:inherit;line-height:inherit;" /></code><br /></pre>运行结果的示例：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WL9qffHzUVh6KlPkZ7VEGFH9hABEmBvnUGjTEp4ppEXzsOUcVVQ62qPw/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-Webhook</strong></span><br />Webhook我们可以做一些简单的环境验证以及去调用其他的服务的功能，它自身也提供了一些结果的验证功能，支持多种请求的方式。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WL6RdfUf87Dx9fEOMTxkOEraDI4QIViafgv4qAzlQwxV1X21vXTKeJTmA/640" alt="640" /></p><br />运行结果的示例：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLEwMOVkBPVZ5fL15SaHBC2BDiaTeaKtMibeaIJIouZVIYg2NHBMP2VJxQ/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-Manual Judgment</strong></span><br />Spinnaker配置信息，用于人工的逻辑判断，增加Pipeline的控制性（比如发布到线上需要测试人员认证以及领导审批），内容支持多种语法表达的方式。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WL5FLbKicavqksicVduUFIibABicUe7HDgcPI0AdSNUCeEZwrCAQtDRh0gsQ/640" alt="640" /></p><br />运行结果的示例：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLKz0Z5hjOoicWoMF55yQ8xuWgkmdRL4YPXicibYWYOKgBKgtMG5bjVW2kg/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-Check Preconditions</strong></span><br />上边Manual Judgment Stage配置了两个Judgment Inputs判断项，接下来我们建两个Check Preconditions Stage来分别对这两种判断项做条件检测，条件检测成功，则执行对应的后续Stage流程。比如上面的操作，若是选择发布到prod，则执行发布到线上的分支，若是选择执行回滚的操作则进行回滚相关的分支。<br />Spinnaker配置信息：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLic0UPKTdoEdibcib8DNWdiaGrqWayR7PzshTmZsMADbia2sj8Dia2UUsGaSQ/640" alt="640" /></p><br />运行结果的示例：如上图中我选择了rollback。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLQyM58ZK56uPgibCBrx4HFAEeubQWJX03zRGtCf7xCEIibuich4G4bSfMA/640" alt="640" /></p><br />则prod分支判断为失败，会阻塞后面的stage运行。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLlZ7x1eicCUl6sEBLlGh57ngMxjetQZDq9UFeXI1bfAPOjLekaoI6G9w/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-Undo Rollout（Manifest）</strong></span><br />若是我们发布发现出现问题，也可以设计回滚的stage，Spinnaker的回滚极其的方便，在我们的日常部署中，每个版本都会存在对应的部署记录，如下所示：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLdVp2LI0PQFPbiacgm4c3754sFFlyeKk0x0icGGoickWn3CZCoBhs3QE0g/640" alt="640" /></p><br />Spinnaker Pipeline配置信息：回滚的Pipeline描述中我们需要选择对应的deployment的回滚信息，以及回滚的版本数量。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLyAca0DiaaPibFAHBBAlm9ialk63VLVxc3kKz0mlaTMc5KibySP4gskiaKsA/640" alt="640" /></p><br />运行结果的示例：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLZiafichS7jgUljL528Yt6Ef2LQHYDW64uI4soicU5eDicAib4HsJ56qEa1w/640" alt="640" /></p><br /><span style="color:rgb(136,136,136);"><strong>Stage-Canary Analysis</strong></span><br />金丝雀部署方式：在我们发布新版本时引入部分流量到Canary的服务中，Kayenta会读取Spinnaker中配置的Prometheus中收集的指标，比如内存，CPU，接口超时时间，失败率等等通过Kayenta中Netflix ACA Judge来进行分析与判断，将分析的结果存于S3中，最终会给出这段时间的最终结果。<br />Canary分析主要经过如下四个步骤：<br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">验证数据</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">清理数据</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">比对指标</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">分数计算</p></li></ul><br />设计的模型如下：<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WL4ETPbND5JCibasvHian0ftmtPu7V17h9uQ7tdukh32hKoAibRKfmoSjibA/640" alt="640" /></p><br />运行结果的设计与展示：<br /><ul class="list-paddingleft-2" style="list-style-type:square;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">我们需要对应用开启Canary的配置。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">创建出Baseline与Canary的deployment由同一个Service指向这两个deployment。</p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;">我们这里采用读取Prometheus的指标，需要在hal中增加Prometheus配置。Metric可以直接匹配Prometheus的指标。</p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><br /></p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLdJicDPEKibticxBu7XwEosESvVrTXC0xjGuQgbhAFjibyMzOTddWjqD33A/640" alt="640" /><br /></p><p><span style="color:rgb(60,60,60);font-size:15px;letter-spacing:1px;text-align:justify;">需要配置收集指标以及指标的权重：</span><br /></p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLg4ngwIbB925O90ZThjHKrnz5KJkGb6GnaGwI8n8bzZavmPpysPQxmg/640" alt="640" /></p><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLg4ngwIbB925O90ZThjHKrnz5KJkGb6GnaGwI8n8bzZavmPpysPQxmg/640" alt="640" /></p></li><li><p><span style="color:rgb(60,60,60);font-size:15px;letter-spacing:1px;text-align:justify;">在Pipeline中指定收集分析的频率以及需要指定的源，同时可以配置scoring从而覆盖模板中的配置。</span><br /></p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLoc3wKNWtD4I8dDfcZG0epQ9CwQvZtUNOZCe4iaee23VzOwbaNrm0sicA/640" alt="640" /></p></li><li><p><span style="color:rgb(60,60,60);font-size:15px;letter-spacing:1px;text-align:justify;">每次分析的执行记录：</span><br /></p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLRC8USic6LoVvR2vPeZic6FtVWLicK3LeCGGZnXmzIKfU85Fp0RTGKemhw/640" alt="640" /></p></li><li><p><span style="color:rgb(60,60,60);font-size:15px;letter-spacing:1px;text-align:justify;">结果展示如下，由于我们设置的目标是75，所以pipeline的结果判定为失败。</span><br /></p><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLqnSWRTduc0Ht5QkQRHxxe7yGRTOZYVnyib3fB4IMCNiatQN0686wKULw/640" alt="640" /></p></li></ul><br /><p><br style="color:rgb(102,102,102);" /></p>线上容器服务的选择与多区容灾<p><img style="margin-left:0px;color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;background-color:rgb(255,255,255);font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640" alt="640" /></p><p><span style="color:rgb(102,102,102);"></span></p>我们是腾讯云的客户，采用腾讯云容器服务主要看重以下几个方面：<br /><ol class="list-paddingleft-2" style="list-style-type:decimal;"><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">Kubernetes在自搭建的集群中，要实现Overlay网络，在腾讯云的环境里，它本身就是软件定义网络VPC，所以它在网络上的实现可以做到在容器环境里和原生的VM网络一样的快，没有任何的性能牺牲。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">应用型负载均衡器和Kubernetes里的Ingress相关联，对于需要外部访问的服务能够快速的创建。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">腾讯云的云储存可以被Kubernetes管理，便于持久化的操作。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">腾讯云的部署以及告警也对外提供了服务与接口，可以更好的查看与监控相关的Node与Pod的情况。</span></p></li><li><p style="clear:both;min-height:1em;font-size:15px;letter-spacing:1px;line-height:1.8;color:rgb(60,60,60);text-align:justify;"><span style="font-size:15px;">腾讯云日志服务很好的与容器进行融合，能够方便的收集与检索日志。</span></p></li></ol><br />下图是我们在线上以及灰度环境的发布示意图。<br /><p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLH2y60ch1VT7V7mu3jdnRUYyKz9rGNffNgk5eWSoCbFPHRQzbvsX40w/640" alt="640" /></p><br />为了容灾我们使用了北京二区与北京三区两个集群，若是需要灰度验证时，则将线上北京三区的权重修改为0，这样通过灰度负载均衡器即可到达新版本应用。日常使用中二区与三区均同时提供挂服务。<p><span style="color:rgb(102,102,102);"></span><br style="color:rgb(102,102,102);" /></p>Q&amp;A<p><img style="margin-left:0px;color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;background-color:rgb(255,255,255);font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640" alt="640" /></p><p><span style="font-weight:700;color:rgb(51,51,51);"></span></p><span style="color:rgb(136,136,136);">Q：为什么没有和CI结合在一起？使用这个比较重的Spannaker有什么优势？</span>A：可以和CI进行结合，比如Webhook的方式，或者采用Jenkins调度的方式。优势在于可以和很多云平台进行结合，而且他的Pipeline比较的完美，参数化程度很高。<br /><span style="color:rgb(136,136,136);">Q：目前IaaS只支持OpenStack和国外的公有云厂商，国内的云服务商如果要支持的话，底层需要怎么做呢（管理云主机而不是容器）？自己实现的话容易吗？怎么入手？</span>A：目前我们主要使用Spinnaker用来管理容器这部分的内容，对于国内的云厂商Spinnaker支持都不是非常的好，像LB，安全策略这些都不可在Spinnaker上面控制。若是需要研究可以查看Cloud driver这个组件的功能。<br /><span style="color:rgb(136,136,136);">Q：Spinnaker能不能在Pipeline里通过http API获取一个deployment yaml进行deploy，这个yaml可能是动态生成的？</span>A：部署服务有两种方式：1. 在Spinnaker的UI中直接填入Manifest Source，其实就是对应的deployment YAML，只不过这里可以写入Pipeline的参数；2. 可以从GitHub中拉取对应的文件，来部署。<br /><span style="color:rgb(136,136,136);">Q：Spannaker的安全性方面怎么控制？</span>A：Spinnaker中Fiat是鉴权的组件，配置权限管理，Auth、SAML、LDAP、GitHub teams、Azure Groups、 Google Groups，我们就采用LDAP，登陆后会在上面显示对应的登陆人员。<br /><span style="color:rgb(136,136,136);">Q： deploy和test以及rollback可以跟helm chart集成吗？</span>A：我觉得是可以，很笨的方法最终都是可以借助于Jenkins来实现，但是Spinnaker的回滚与部署技术很强大，在页面上点击就可以进行快速的版本回滚与部署。<br /><span style="color:rgb(136,136,136);">Q： Spannaker之前的截图看到也有对部分用户开发的功能，用Spannaker之后还需要Istio吗？</span>A：这两个有不同的功能，【对部分用户开发的功能】这个是依靠创建不同的service以及Ingress来实现的，他的路由能力肯定没有Istio强悍，而且也不具备熔断等等的技术，我们线下这么创建主要为了方便开发人员进行快速的部署与调试。<p><span style="color:rgb(102,102,102);"></span><br /></p><p><br /></p>Kubernetes应用实战培训<p><img style="color:rgb(60,60,60);font-weight:bold;letter-spacing:1px;text-align:center;font-size:15px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/b2YlTLuGbKDsbJzupnILVFhPtMaRjmvPKYRqTMjibE9pnd8oiawLVrQbOHQe4wBXkBQkzpKCWPKBqWgOLgwccBug/640?" alt="640?" /></p><p><br /></p><span style="color:rgb(0,162,255);"><strong>Kubernetes应用实战培训将于2018年9月14日在上海开课，3天时间带你系统掌握Kubernetes</strong></span><strong>。</strong>本次培训包括：容器特性、镜像、网络；Docker特性、架构、组件、概念、Runtime；Docker安全；Docker实践；Kubernetes架构、核心组件、基本功能；Kubernetes设计理念、架构设计、基本功能、常用对象、设计原则；Kubernetes的实践、运行时、网络、插件已经落地经验；微服务架构、DevOps等，点击下方图片查看详情。<br /><p style="text-align:center;"><span style="color:rgb(87,107,149);"><a href="http://mp.weixin.qq.com/s?__biz=MzA5OTAyNzQ2OA==&amp;mid=2649698630&amp;idx=2&amp;sn=08b3fd007b698fe2f2c4c715833edc4f&amp;chksm=88930e25bfe487337f877ca142566ed69bec27824262196f52a3ce49a6e8fcb6a49c1e4606dc&amp;scene=21#wechat_redirect" rel="nofollow" style="color:rgb(87,107,149);"><span class="js_jump_icon h5_image_link"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/A1HKVXsfHNngkcQQLAXO5k78xKibxu8WLw1WRWwlB3Wx3icGXgY18ISZibtgfia3vrhZW6ogSOXn25yOt3BhGeyp2Q/640?" alt="640?" /></span></a></span></p>
                </div>
              </div>
                </div>
				<div class="hide-article-box text-center">
			<a class="btn" id="btn-readmore" data-track-view='{"mod":"popu_376","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657,"}' data-track-click='{"mod":"popu_376","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657,"}'>阅读更多</a>
			<a class="btn" href="https://passport.csdn.net/account/login?utm_source=csdn_blog_pc_more_login" target="_self" id="btn-lobinreadmore" data-track-view='{"mod":"popu_557","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657,"}' data-track-click='{"mod":"popu_557","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657,"}'>登录后自动展开</a>
		</div>
        	</article>
	
</div>
<script>
    $(".MathJax").remove();
</script>

<!-- 博客详情页PC增加广告系统刷量代码 -->
<div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
<script id="adJs52b5334"></script>
<script>document.getElementById("adJs52b5334").src = "https://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
</div>

<script>
	(function(){
		var btnReadmore = $("#btn-readmore");
		if(btnReadmore.length>0){
			var winH = $(window).height();
			var articleBox = $("div.article_content");
			var artH = articleBox.height();
			if(artH > winH*2){
				articleBox.css({
					'height':winH*2+'px',
					'overflow':'hidden'
				})
				btnReadmore.click(function(){
					articleBox.removeAttr("style");
					$(this).parent().remove();
				})
			}else{
				btnReadmore.parent().remove();
			}
		}
	})()
</script>
        <div class="p4course_target" ></div><script>window.p4sdk_enable_courseBox=true</script>        <a id="commentBox"></a>
<div class="comment-box">
	  	<div class="unlogin-box text-center">
		想对作者说点什么？
		<!-- $curl 当前地址 -->
		<a href="https://passport.csdn.net/account/login?from=https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657#commentBox" class="btn btn-sm btn-red">我来说一句</a>
	</div>
			<div class="comment-list-container">
		<a id="comments"></a>
		<div class="comment-list-box">
		</div>
		<div id="commentPage" class="pagination-box d-none"></div>
		<div class="opt-box text-center">
			<button class="btn btn-sm btn-link-blue" id="btnMoreComment"></button>
		</div>
	</div>
</div>        <div class="recommend-box">
            		<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/RancherLabs/article/details/81053273,BlogCommendFromQuerySearch_0"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/RancherLabs/article/details/81053273,BlogCommendFromQuerySearch_0"}'>
		<a href="https://blog.csdn.net/RancherLabs/article/details/81053273" target="_blank" title="中国东信<em>基于</em><em>Kubernetes</em>的<em>容器</em>云PaaS的平台">
			<div class="content">
				<h4 class="text-truncate oneline">
						中国东信<em>基于</em><em>Kubernetes</em>的<em>容器</em>云PaaS的平台				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/4/1/C/3_rancherlabs.jpg" alt="RancherLabs" class="avatar-pic">
							<span class="namebox">
								<span class="name">RancherLabs</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">07-15</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							181</span>
						</p>
					</div>
					<p class="content oneline">
							“中国-东盟信息港”是按照国家“一带一路”倡议总体布局要求、建设更为紧密的中国—东盟命运共同体、21世纪海上丝绸之路的一个信息平台：http://www.caih.com。东信基于Rancher Ku...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/wangqingjiewa/article/details/78540078,BlogCommendFromQuerySearch_1"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/wangqingjiewa/article/details/78540078,BlogCommendFromQuerySearch_1"}'>
		<a href="https://blog.csdn.net/wangqingjiewa/article/details/78540078" target="_blank" title="每周运行30万个<em>容器</em>实例 - Netflix 的<em>容器</em>化<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						每周运行30万个<em>容器</em>实例 - Netflix 的<em>容器</em>化<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/2/B/B/3_wangqingjiewa.jpg" alt="wangqingjiewa" class="avatar-pic">
							<span class="namebox">
								<span class="name">wangqingjiewa</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">11-15</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							496</span>
						</p>
					</div>
					<p class="content oneline">
							Netflix 是谁？






Netflix 是欧美地区最大的网络视频提供商，超过了 Youtube。全球每天有超过190个国家，一亿多会员在 Netflix 上观看1.2亿小时的...					</p>
			</div>
					</a>
	</div>
									<div class="recommend-item-box recommend-ad-box clearfix">
					<script type="text/javascript" src="//rabc1.iteye.com/production/source/pc3553.js?pkcgstj=jm"></script>
				</div>
			
					<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/78630602,BlogCommendFromQuerySearch_2"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/78630602,BlogCommendFromQuerySearch_2"}'>
		<a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/78630602" target="_blank" title="陌陌<em>基于</em><em>Kubernetes</em>和Docker<em>容器</em>管理平台的架构<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						陌陌<em>基于</em><em>Kubernetes</em>和Docker<em>容器</em>管理平台的架构<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/C/E/8/3_m2l0zgssvc7r69efdtj.jpg" alt="M2l0ZgSsVc7r69eFdTj" class="avatar-pic">
							<span class="namebox">
								<span class="name">M2l0ZgSsVc7r69eFdTj</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">11-25</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							942</span>
						</p>
					</div>
					<p class="content oneline">
							为什么选择使用Kubernetes？



在使用Kubernetes之前，陌陌在应用发布和运行环境方面遇到的具体问题，如下：






应用发布时间很长，主要是因为发布过程中...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/xuguokun1986/article/details/51779100,BlogCommendFromQuerySearch_3"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/xuguokun1986/article/details/51779100,BlogCommendFromQuerySearch_3"}'>
		<a href="https://blog.csdn.net/xuguokun1986/article/details/51779100" target="_blank" title="利用docker开启<em>持续交付</em>之路">
			<div class="content">
				<h4 class="text-truncate oneline">
						利用docker开启<em>持续交付</em>之路				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/2/4/3/3_xuguokun1986.jpg" alt="xuguokun1986" class="avatar-pic">
							<span class="namebox">
								<span class="name">xuguokun1986</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">06-28</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							1867</span>
						</p>
					</div>
					<p class="content oneline">
							持续交付即Continuous Delivery，简称CD，随着DevOps的流行正越来越被传统企业所重视。持续交付讲求以短周期、小细粒度，自动化的方式频繁的交付软件，在这个过程中要求开发、测试、用户...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/qq_34463875/article/details/77840019,BlogCommendFromQuerySearch_4"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/qq_34463875/article/details/77840019,BlogCommendFromQuerySearch_4"}'>
		<a href="https://blog.csdn.net/qq_34463875/article/details/77840019" target="_blank" title="魅族<em>容器</em>云平台<em>基于</em><em>Kubernetes</em>自动化运维<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						魅族<em>容器</em>云平台<em>基于</em><em>Kubernetes</em>自动化运维<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/3/C/6/3_qq_34463875.jpg" alt="qq_34463875" class="avatar-pic">
							<span class="namebox">
								<span class="name">qq_34463875</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">09-04</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							1126</span>
						</p>
					</div>
					<p class="content oneline">
							作者简介：


曾彬

阿里巴巴 高级技术专家

互联网老兵,十多年的基础架构经验，曾在支付宝、爱立信、魅族等担任系统架构师，从事过 Linux 内核开发，Java 中间件、SOA 应用...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/79946780,BlogCommendFromQuerySearch_5"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/79946780,BlogCommendFromQuerySearch_5"}'>
		<a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/79946780" target="_blank" title="五大<em>Kubernetes</em>最佳<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						五大<em>Kubernetes</em>最佳<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/C/E/8/3_m2l0zgssvc7r69efdtj.jpg" alt="M2l0ZgSsVc7r69eFdTj" class="avatar-pic">
							<span class="namebox">
								<span class="name">M2l0ZgSsVc7r69eFdTj</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">04-15</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							373</span>
						</p>
					</div>
					<p class="content oneline">
							在最近的一次Weave用户组在线会议WOUG[1]上两个工程师做了Kubernetes相关的分享。谷歌云的开发者布道师Sandeep Dinesh（@SandeepDinesh）做了一个演讲，给大家列...					</p>
			</div>
					</a>
	</div>
								<div class="recommend-item-box recommend-ad-box" id="a_d_feed_0"></div>
			<script>
				var width = $("div.recommend-box").outerWidth() - 48;
				NEWS_FEED({
					w: width,
					h: 60,
					showid: 'Afihld',
					placeholderId: 'a_d_feed_0',
					inject: 'define',
					define: {
						imagePosition: 'left',
						imageBorderRadius: 0,
						imageWidth: 90,
						imageHeight: 60,
						imageFill: 'clip',
						displayImage: true,
						displayTitle: true,
						titleFontSize: 20,
						titleFontColor: '#333',
						titleFontFamily: 'Microsoft Yahei',
						titleFontWeight: 'bold',
						titlePaddingTop: 0,
						titlePaddingRight: 0,
						titlePaddingBottom: 10,
						titlePaddingLeft: 8,
						displayDesc: true,
						descFontSize: 14,
						descPaddingLeft: 14,
						descFontColor: '#6b6b6b',
						descFontFamily: 'Microsoft Yahei',
						paddingTop: 0,
						paddingRight: 0,
						paddingBottom: 0,
						paddingLeft: 0,
						backgroundColor: '#fff',
						hoverColor: '#ca0c16'
					}
				})
			</script>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/hxpjava1/article/details/79325281,BlogCommendFromQuerySearch_6"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/hxpjava1/article/details/79325281,BlogCommendFromQuerySearch_6"}'>
		<a href="https://blog.csdn.net/hxpjava1/article/details/79325281" target="_blank" title="小红书在<em>Kubernetes</em><em>容器</em><em>环境</em>的CD<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						小红书在<em>Kubernetes</em><em>容器</em><em>环境</em>的CD<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/B/1/0/3_hxpjava1.jpg" alt="hxpjava1" class="avatar-pic">
							<span class="namebox">
								<span class="name">hxpjava1</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">02-14</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							288</span>
						</p>
					</div>
					<p class="content oneline">
							前言容器推出以来，给软件开发带来了极具传染性的振奋和创新，并获得了来自各个行业、各个领域的巨大的支持——从大企业到初创公司，从研发到各类IT人员等等。跨境知名电商小红书随着业务的铺开，线上部署单元的数...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/kwame211/article/details/78740451,BlogCommendFromQuerySearch_7"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/kwame211/article/details/78740451,BlogCommendFromQuerySearch_7"}'>
		<a href="https://blog.csdn.net/kwame211/article/details/78740451" target="_blank" title="<em>基于</em>Docker<em>持续交付</em>平台建设的<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						<em>基于</em>Docker<em>持续交付</em>平台建设的<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/C/0/0/3_kwame211.jpg" alt="kwame211" class="avatar-pic">
							<span class="namebox">
								<span class="name">kwame211</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">12-07</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							508</span>
						</p>
					</div>
					<p class="content oneline">
							导读：中国五矿和阿里巴巴联手打造的钢铁服务专业平台五阿哥，通过集结阿里巴巴在大数据、电商平台和互联网产品技术上的优势，为终端用户带来一站式采购体验。本文是五阿哥运维技术团队针对Docker容器技术在如...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/GitChat/article/details/78410109,BlogCommendFromQuerySearch_8"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/GitChat/article/details/78410109,BlogCommendFromQuerySearch_8"}'>
		<a href="https://blog.csdn.net/GitChat/article/details/78410109" target="_blank" title="<em>基于</em> Docker、<em>Kubernetes</em> 实现高效可靠的规模化 CI/CD 流水线的搭建">
			<div class="content">
				<h4 class="text-truncate oneline">
						<em>基于</em> Docker、<em>Kubernetes</em> 实现高效可靠的规模化 CI/CD 流水线的搭建				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/2/8/D/3_gitchat.jpg" alt="GitChat" class="avatar-pic">
							<span class="namebox">
								<span class="name">GitChat</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">10-25</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							2223</span>
						</p>
					</div>
					<p class="content oneline">
							本文来自作者 邸富杰 在 GitChat 上分享，「阅读原文」查看交流实录

「文末高能」

编辑 | 库克

高效可靠的 CI/CD 流水线是一个IT组织实现软件服务快速交付的基础，现如...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box recommend-box-ident type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/qq_26923057/article/details/53282938,BlogCommendFromQuerySearch_9"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/qq_26923057/article/details/53282938,BlogCommendFromQuerySearch_9"}'>
		<a href="https://blog.csdn.net/qq_26923057/article/details/53282938" target="_blank" title="新浪微博<em>基于</em>Docker的混合云架构与应用<em>实践</em>">
			<div class="content">
				<h4 class="text-truncate oneline">
						新浪微博<em>基于</em>Docker的混合云架构与应用<em>实践</em>				</h4>
				<div class="info-box d-flex align-content-center">
					<p class="avatar">
							<img src="https://avatar.csdn.net/A/E/6/3_qq_26923057.jpg" alt="qq_26923057" class="avatar-pic">
							<span class="namebox">
								<span class="name">qq_26923057</span>
								<span class="triangle"></span>
							</span>
					</p>
					<p class="date-and-readNum">
						<span class="date hover-show">11-22</span>
						<span class="read-num hover-hide">
							<svg class="icon csdnc-yuedushu" aria-hidden="true">
								<use xlink:href="#csdnc-yuedushu"></use>
							</svg>
							2682</span>
						</p>
					</div>
					<p class="content oneline">
							大家好！先做一个自我介绍，我来自新浪微博，付稳，属于微博平台研发中心，本次分享的主题是新浪微博DCP基于Docker的混合云架构与应用实践。今天的主题是Swarm、Mesos、Kubernetes的三...					</p>
			</div>
					</a>
	</div>
						<div class="recommend-item-box type_hot_word">
									<div class="content clearfix oneline">
				<h5 class="float-left">相关热词</h5>
				<div class="float-left">
									<span>
						<a href="https://blog.csdn.net/u011277123/article/details/78889234" target="_blank">
						数据库有货</a>
					</span>
									<span>
						<a href="https://blog.csdn.net/u010810750/article/details/79670180" target="_blank">
						有货全栈工程师</a>
					</span>
									<span>
						<a href="https://blog.csdn.net/Gekec/article/details/43487555" target="_blank">
						有货上的boy</a>
					</span>
								</div>
			</div>
					</div>
	
            <div class="recommend-loading-box">
                <img src='https://csdnimg.cn/release/phoenix/images/feedLoading.gif'>
            </div>
            <div class="recommend-end-box">
                <p class="text-center">没有更多推荐了，<a href="https://blog.csdn.net/" class="c-blue c-blue-hover c-blue-focus">返回首页</a></p>
            </div>
        </div>
    </main>
    <aside>
		    <div id="asideProfile" class="aside-box">
    <h3 class="aside-title">个人资料</h3>
    <div class="profile-intro d-flex">
        <div class="avatar-box d-flex justify-content-center flex-column">
            <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj">
                <img src="https://avatar.csdn.net/C/E/8/3_m2l0zgssvc7r69efdtj.jpg" class="avatar_pic">
            </a>
        </div>
        <div class="user-info d-flex justify-content-center flex-column">
            <p class="name csdn-tracking-statistics tracking-click" data-mod="popu_379">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj" target="_blank" class="text-truncate" id="uid">Docker_</a>
            </p>
                    </div>
                <div class="opt-box d-flex justify-content-center flex-column">
            <span  class="csdn-tracking-statistics tracking-click" data-mod="popu_379">
                                <a class="btn btn-sm btn-red-hollow" href="https://passport.csdn.net/account/login?from=https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657" target="_self">关注</a>
                            </span>
                    </div>
            </div>
    <div class="data-info d-flex item-tiling">
                <dl class="text-center" title="158">
                        <dt><a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj?t=1">原创</a></dt>
            <dd><a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj?t=1"><span class="count">158</span></a></dd>
                    </dl>
        <dl class="text-center" title="70">
            <dt>粉丝</dt>
            <dd><span class="count" id="fan">70</span></dd>
        </dl>
        <dl class="text-center" title="15">
            <dt>喜欢</dt>
            <dd><span class="count">15</span></dd>
        </dl>
        <dl class="text-center" title="20">
            <dt>评论</dt>
            <dd><span class="count">20</span></dd>
        </dl>
    </div>
    <div class="grade-box clearfix">
        <dl>
            <dt>等级：</dt>
            <dd>
                <a href="https://blog.csdn.net/home/help.html#level" title="6级,点击查看等级说明" target="_blank">
                    <svg class="icon icon-level" aria-hidden="true">
                        <use xlink:href="#csdnc-bloglevel-6"></use>
                    </svg>
                </a>
            </dd>
        </dl>
        <dl>
            <dt>访问：</dt>
            <dd title="133902">
                13万+            </dd>
        </dl>
        <dl>
            <dt>积分：</dt>
            <dd title="8279">
                8279            </dd>
        </dl>
        <dl title="3446">
            <dt>排名：</dt>
            <dd>3446</dd>
        </dl>
    </div>
        <div class="badge-box d-flex">
        <span>勋章：</span>
                        <a class="icon-badge" title="持之以恒">
            <svg class="icon" aria-hidden="true">
                <use xlink:href="#csdnc-m-lasting"></use>
            </svg>
            <div class="icon-arrow"></div>
            <div class="grade-detail-box item2">
                <div class="pos-box">
                    <div class="left-box d-flex justify-content-center align-items-center flex-column">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#csdnc-m-lasting"></use>
                        </svg>
                        <p>持之以恒</p>
                    </div>
                    <div class="right-box d-flex justify-content-center align-items-center">
                        授予每个自然月内发布4篇或4篇以上原创或翻译IT博文的用户。不积跬步无以至千里，不积小流无以成江海，程序人生的精彩需要坚持不懈地积累！
                    </div>
                </div>
            </div>
        </a>
                            </div>
    </div>		    <div class="csdn-tracking-statistics mb8 box-shadow" data-pid="blog" data-mod="popu_4" style="height:250px;">
    <div class="aside-content text-center" id="cpro_u2734133">
      <!-- 广告位：PC-博客内页-云计算/大数据-300x250-->
                      <script>
                          (function() {
                              var s = "_" + Math.random().toString(36).slice(2);
                              document.write("<div id=" + s + "></div>");
                              (window.slotbydup=window.slotbydup || []).push({
                                  id: "5865575",
                                  container: s,
                                  size: "300,250",
                                  display: "inlay-fix"
                              });
                          })();
                      </script>
                      <script src="https://dup.baidustatic.com/js/os.js"></script>    </div>
</div>
		    <div id="asideNewArticle" class="aside-box">
    <h3 class="aside-title">最新文章</h3>
    <div class="aside-content">
        <ul class="inf_list clearfix csdn-tracking-statistics tracking-click" data-mod="popu_382">
                        <li class="clearfix">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82392682" target="_blank">Nepxion Discovery：Spring Cloud灰度发布神器</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82392662" target="_blank">Docker容器镜像瘦身的三个小窍门</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82392656" target="_blank">直播 | gVisor初探</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82392654" target="_blank">3天Kubernetes线下实战培训 | 上海站</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82322007" target="_blank">Rook：基于Ceph的Kubernetes存储解决方案</a>
            </li>
                    </ul>
    </div>
</div>
		    		    		    <div id="asideArchive" class="aside-box flexible-box">
    <h3 class="aside-title">归档</h3>
    <div class="aside-content">
        <ul class="archive-list">
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/09">
                    2018年9月                    <span class="count float-right">7篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/08">
                    2018年8月                    <span class="count float-right">38篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/07">
                    2018年7月                    <span class="count float-right">39篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/06">
                    2018年6月                    <span class="count float-right">33篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/05">
                    2018年5月                    <span class="count float-right">25篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/04">
                    2018年4月                    <span class="count float-right">44篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/03">
                    2018年3月                    <span class="count float-right">31篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/02">
                    2018年2月                    <span class="count float-right">19篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2018/01">
                    2018年1月                    <span class="count float-right">37篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2017/12">
                    2017年12月                    <span class="count float-right">22篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2017/11">
                    2017年11月                    <span class="count float-right">38篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2017/10">
                    2017年10月                    <span class="count float-right">33篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/month/2017/09">
                    2017年9月                    <span class="count float-right">17篇</span>
                </a>
            </li>
                    </ul>
    </div>
        <p class="text-center">
        <a class="btn btn-link-blue flexible-btn" data-fbox="aside-archive">展开</a>
    </p>
    </div>
		    <div id="asideHotArticle" class="aside-box">
	<h3 class="aside-title">热门文章</h3>
	<div class="aside-content">
		<ul class="hotArticle-list csdn-tracking-statistics tracking-click" data-mod="popu_521">
							<li>
					<a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78950054">培训：基于Kubernetes的容器云平台实践</a>
					<p class="read">阅读量：<span>6027</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78950050">Kubernetes的前世今生和未来</a>
					<p class="read">阅读量：<span>5726</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78944851">Docker公司已死！</a>
					<p class="read">阅读量：<span>4433</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78987494">使用Istio治理微服务入门</a>
					<p class="read">阅读量：<span>4269</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78969156">2017是容器之年？不，也许2018年才是！</a>
					<p class="read">阅读量：<span>3115</span></p>
				</li>
					</ul>
	</div>
</div>
		    <div id="asideNewComments" class="aside-box">
    <h3 class="aside-title">最新评论</h3>
    <div class="aside-content">
        <ul class="newcomment-list">
                        <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/78189402#comments">谈谈 etcd 架构与设计</a>
                <p class="comment">
                    <a href="https://my.csdn.net/FoxfireSea" class="user-name" target="_blank">FoxfireSea</a>：发现你好项啥也没写                </p>
            </li>
                        <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/81977243#comments">Docker孵化的5个开源项目</a>
                <p class="comment">
                    <a href="https://my.csdn.net/qq_43071133" class="user-name" target="_blank">qq_43071133</a>：这是？  ···                </p>
            </li>
                        <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/82111657#comments">有货基于Kubernetes容器环...</a>
                <p class="comment">
                    <a href="https://my.csdn.net/qq_25026083" class="user-name" target="_blank">qq_25026083</a>：还是可以的                </p>
            </li>
                        <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/81740913#comments">Escalator：Atlassi...</a>
                <p class="comment">
                    <a href="https://my.csdn.net/qq_43083859" class="user-name" target="_blank">qq_43083859</a>：。。                </p>
            </li>
                        <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/81161480#comments">一分钟教你快速部署Kubernet...</a>
                <p class="comment">
                    <a href="https://my.csdn.net/qq_43075647" class="user-name" target="_blank">qq_43075647</a>：随着明年5G的启动，智能化加速，Kubernetes的布置及每个人和每家企业都将有独立的身份证式的...                </p>
            </li>
                    </ul>
    </div>
</div>
		<div id="asideFooter">
			
		<div class="aside-box">
						<script type="text/javascript" src="//rabc1.iteye.com/source/res/yn6yz.js?ojylrgb=yk"></script>
					</div>
				<div class="aside-box">
			<div class="persion_article">
			</div>
		</div>
	</div>
</aside>
<script src="https://csdnimg.cn/pubfooter/js/publib_footer-1.0.3.js" data-isfootertrack="false" type="text/javascript"></script>
<script>
	$("a.flexible-btn").click(function(){
		$(this).parents('div.aside-box').removeClass('flexible-box');
		$(this).remove();
	})
</script>
</div>
<div class="mask-dark"></div>
<div class="pulllog-box" style="display: block;">
	<div class="pulllog clearfix">
		<span class="text float-left">
			<!-- 广告位：PC-博客内页底通 文字链位置 -->
			<script>
			(function() {
				var s = "_" + Math.random().toString(36).slice(2);
				document.write('<div id="baidufooter_0001"></div>');
				(window.slotbydup=window.slotbydup || []).push({
					id: '5851901',
					container: 'baidufooter_0001',
					size: '520,40',
					display: 'inlay-fix'
				});
			})();
			</script>
			<script src="https://dup.baidustatic.com/js/os.js"></script>
			<style>
				#baidufooter_0001{
					display: none !important;
				}
			</style>
		</span>
		<div class="pulllog-btn float-right clearfix">
            <button class="pulllog-login float-left csdn-tracking-statistics tracking-click" data-mod="popu_557">
                <a href="https://passport.csdn.net/account/login?utm_source=csdn_blog_pc_login" target="_self">登录</a>
            </button>
            <div class="pulllog-sigin float-left csdn-tracking-statistics tracking-click" data-mod="popu_558">
                <a href="https://passport.csdn.net/account/mobileregister" target="_blank">注册</a>
            </div>
            <button class="btn-close">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#csdnc-times"></use>
                </svg>
            </button>
		</div>
	</div>
</div>
<div id="loginWrap" style="display:none"></div>
<div class="tool-box">
	<ul class="meau-list">
		<li>
			<button class="long-height hover-box btn-like " title="点赞">
				<svg class="icon active hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-thumbsup-ok"></use>
				</svg><svg class="icon no-active hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-thumbsup"></use>
				</svg>
				<span class="hover-show text-box text">
					<span class="no-active">点赞</span>
					<span class="active">取消点赞</span>
				</span>
				<p>0</p>
			</button>
		</li>
		<li>
						
			<a class="btn-comments long-height hover-box" title="写评论" href="#commentBox">
				<svg class="icon hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-comments"></use>
				</svg>
				<span class="hover-show text">评论</span>
				<p class="">
						1				</p>
			</a>
		</li>
		<li class="toc-container-box" id="liTocBox">
			<button class="btn-toc low-height hover-box" title="目录">
				<svg class="icon hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-contents"></use>
				</svg>
				<span class="hover-show text">目录</span>
			</button>
			<div class="toc-container">
				<div class="pos-box">
					<div class="icon-arrow"></div>
					<div class="scroll-box">
						<div class="toc-box"></div>
					</div>
				</div>
				<div class="opt-box">
					<button class="btn-opt prev nomore" title="向上">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#csdnc-chevronup"></use>
						</svg>
					</button>
					<button class="btn-opt next">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#csdnc-chevrondown"></use>
						</svg>
					</button>
				</div>
			</div>
		</li>
		<li>
			<button class="btn-bookmark low-height hover-box" title="收藏">
				<svg class="icon active hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-bookmark-ok"></use>
				</svg>
				<svg class="icon no-active hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-bookmark"></use>
				</svg>
					<span class="hover-show text">收藏</span>
				<!-- <span class="hover-show text-box text">
					<span class="no-active">收藏</span>
					<span class="active">取消收藏</span>
				</span> -->
			</button>
		</li>
				<li class="bdsharebuttonbox">
			<button class="btn-comments low-height hover-box" >
				<a href="#" class="bds_weixin clear-share-style" data-cmd="weixin" title="手机看"></a>
				<svg class="icon hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-wechat"></use>
				</svg>
				<span class="hover-show text">
					手机看
				</span>
			</button>
		</li>
							<li class="">
				<a class="btn-comments low-height hover-box" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/82056815" title="聊一聊Git原理">
					<svg class="icon hover-hide" aria-hidden="true">
						<use xlink:href="#csdnc-shangyiye"></use>
					</svg>
					<span class="hover-show text">上一篇</span>
				</a>
			</li>
								<li class="">
			<a class="btn-comments hover-box low-height" href="https://blog.csdn.net/m2l0zgssvc7r69efdtj/article/details/82111664" title="3天Kubernetes线下实战培训 | 上海站">
				<svg class="icon hover-hide" aria-hidden="true">
					<use xlink:href="#csdnc-xiayiye"></use>
				</svg>
				<span class="hover-show text">下一篇</span>
			</a>
		</li>
						<li class="bdsharebuttonbox"style="margin-top: 8px;">
			<script type="text/javascript" src="//cjhd.mediav.com/js/interactive_plugin.js"></script> 
			<style>
				#_360_interactive > *{
					 margin-left: -8px;
				}
			</style>
			<div id="_360_interactive" > 
				<script> INTERACTIVE_PLUGIN.render({ showid : 'N0ufqn', w: 60, h: 60, type: 'hover', placeholderId: '_360_interactive' }); </script> 
			</div>
			<img src="//img-ads.csdn.net/2016/201608021757063065.png" style="margin: 0 auto;display: block;" alt="">
		</li>
	  	</ul>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'https://csdnimg.cn/static/api/js/share.js?v=89860594'];</script>
<script>
    var recommendCount = 10;
    recommendCount = recommendCount > 1 ? (recommendCount + (recommendCount>6 ? 2 : 1)) : recommendCount;
    var articleTit = "有货基于Kubernetes容器环境的持续交付实践";
    var ChannelId = 2;
    var articleId = "82111657";
    var commentscount = 1;
    var islock = false;
    var curentUrl = "https://blog.csdn.net/M2l0ZgSsVc7r69eFdTj/article/details/82111657";
    var myUrl = "https://my.csdn.net/";
    //1禁止评论，2正常
    var commentAuth = 0;
    //百度搜索
    var baiduKey = "";
    var needInsertBaidu = true;
    // 代码段样式
    var codeStyle = '';
    var highlight = ["\u6709\u8d27","\u57fa\u4e8e","kubernetes","\u5bb9\u5668","\u73af\u5883","\u6301\u7eed\u4ea4\u4ed8","\u5b9e\u8df5"];//高亮数组
</script>
<script src="https://csdnimg.cn/public/sandalstrap/1.3/js/sandalstrap.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/vendor/pagination/paging.js"></script>
<script src='https://csdnimg.cn/public/common/gotop/js/goTop-v1.0.min.js?v201803151422'></script>
<script>
    GoTop({
        right: 8,
        hasReport: true,
        reportFun: function() {
            showReport(false,"有货基于Kubernetes容器环境的持续交付实践");
        }
    })
</script>
<script src="https://csdnimg.cn/release/phoenix/template/js/common-4d72a3f9df.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/template/js/detail-a659ec5fba.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-9376486353.min.js"></script>
</body>
<div class="box-box-aways">
    <a class="btn-remove">
        关闭
    </a>
		<div id="adAways">
		<script>
			(function() {
				(window.slotbydup=window.slotbydup || []).push({
					id: '5868728',
					container: 'adAways',
					size: '250,500',
					display: 'inlay-fix'
				});
			})();
			</script>
		<script src="https://dup.baidustatic.com/js/os.js"></script>
</div>

</div>
<div class="box-box-default">
    <a class="btn-remove">
        关闭
    </a>
		<div id="right_height_a_d"></div>
</div>
<div class="box-box-large">
    <a class="btn-remove">
        关闭
    </a>
		<div id="right_alert_a_d"></div>
</div>
<!-- 第四范式SDK -->

<!-- 高亮未与 markdown兼容  -->
	<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/chart.css" />
	<script type="text/javascript" src="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/lib/chart.min.js"></script>
	<script type="text/javascript" src="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/widget2chart.js"></script>
	<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/codesnippet/lib/highlight/styles/atom-one-dark.css">
	<script type="text/javascript" src="https://csdnimg.cn/release/phoenix/production/pc_wap_common-93244aa03c.js" /></script>

	<script type="text/javascript">
	$(function(){
		var allEscRegex = /&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,
		    namedEntities = {
					lt: '<',
					gt: '>',
					amp: '&',
					quot: '"',
					nbsp: '\u00a0',
					shy: '\u00ad'
				}
		var allEscDecode = function( match, code ) {
				return namedEntities[ code ];
		};
		htmlDecodeAttr = function( text ) {
				return text.replace( allEscRegex, allEscDecode );
		}
	  hljs.initHighlightingOnLoad();
	  hljs.initCopyButtonOnLoad();
	  hljs.initLineNumbersOnLoad();
		if($('pre .language-plain').length>0){
			$('pre .language-plain').each(function(i,e){
				var highlightRe = hljs.highlightAuto(htmlDecodeAttr(e.innerHTML))
				e.innerHTML = highlightRe.value;
				e.className = 'language-'+highlightRe.language;
			});
		}
	})
	</script>
<script type="text/javascript" src="https://static-blog.csdn.net/mdeditor/public/res/bower-libs/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            "HTML-CSS": {
                    linebreaks: { automatic: true, width: "94%container" },
                    imageFont: null
            },
            tex2jax: {
                preview: "none"
            },
            mml2jax: {
                preview: 'none'
            }
    });
</script>
</html>